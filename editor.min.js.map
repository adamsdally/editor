{"version":3,"sources":["/js/config.js","/js/buildSelection.js","/js/editor.js","/js/getApplyableElementsInParent.js","/js/isActionable.js","/js/dom.js","/js/external.js","/js/internal.js","/js/maintainSelection.js"],"names":["buildSelection","range","console","log","startParent","endParent","currentSelection","startSelection","endSelection","startContainer","length","startOffset","next","nextSibling","parentElement","firstChild","setStart","endOffset","previous","endContainer","previousSibling","lastChild","innerHTML","setEnd","push","childNodes","node","commonAncestorContainer","current","previousElementSibling","nextElementSibling","concat","Editor","config","F","prototype","EditorPrototype","f","getApplyableElementsInParent","action","i","children","selection","isActionable","element","class","classList","contains","debug","config1","window","htmlEncode","input","String","replace","joinAdjacentElements","movingInside","movingOutside","parent","nodeType","tagName","className","style","removeChild","inlineElements","indexOf","cloneNode","appendChild","createParentElement","document","createElement","insertBefore","createChildElement","start","that","this","editable","draggable","el","controlsEl","actions","blockElements","getSelection","addEventListener","getRangeAt","isRestricted","resetControls","e","preventDefault","siblingNode","ctrlKey","keyCode","target","l","dataset","perform","value","options","selectedIndex","debugEl","joinx","title","old","getElementsByTagName","restricted","defaultValueActions","elements","x","valueAction","valueActions","part","JSON","parse","stringify","joinValues","determineValues","valueActionsOne","valueActionsTwo","newValueActions","join","attribute","apply","remove","negate","toggle","getElementsByClassName","downwards","parents","action2","inner","nodeValue","trim","splitText","hasProperty","nextNode","previousNode","nextGo","previousGo","normalize","userSelection","saveSelection","forEach","restoreSelection","createRange","containerEl","preSelectionRange","cloneRange","selectNodeContents","toString","end","savedSel","charIndex","collapse","nodeStack","foundStart","stop","pop","nextCharIndex","sel","removeAllRanges","addRange","selectedTextRange","preSelectionTextRange","body","createTextRange","moveToElementText","setEndPoint","text","textRange","moveEnd","moveStart","select"],"mappings":"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"}